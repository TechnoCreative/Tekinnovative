{"filter":false,"title":"Erreurs404500_mailer.rb","tooltip":"/app/mailers/Erreurs404500_mailer.rb","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":29,"column":3},"action":"insert","lines":["class Erreurs404500mailer < ActionMailer::Base","  def envoi_erreur_404(requete, session)","    @nom_application = NOM_APPLICATION","    @requete = requete","    @session = session","    ","    # Une petite astuce si vous avez une delivery_method mailjet par exemple","    #ActionMailer::Base.delivery_method = :smtp if ...","","    mail(to: \"web@groupebatteur.fr\", subject: \"[#{@nom_application}] Erreur 404\", from: \"\")","","    # Bien remettre mailjet sinon les prochains mails partiront avec le smtp du serveur","    ActionMailer::Base.delivery_method = :mailjet if ...","  end","","  # Pareil pour les 500","  def envoi_erreur_500(requete, session, exception)","    @nom_application = NOM_APPLICATION","    @requete = requete","    @session = session","    ","    @exception = exception","","    #ActionMailer::Base.delivery_method = :smtp if ...","","    mail(to: \"web@groupebatteur.fr\", subject: \"[#{@nom_application}] Erreur 500\", from: \"\")","","    #ActionMailer::Base.delivery_method = :mailjet if ...","  end","end"],"id":1}]]},"ace":{"folds":[],"scrolltop":260,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":29,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":16,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1567860789374,"hash":"1f17e828b63728b1e0279bbdf82b6c40c7ba0cdd"}